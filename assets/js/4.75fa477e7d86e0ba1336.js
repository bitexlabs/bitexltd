webpackJsonp([4],{"0831":function(t,e){},"2YM2":function(t,e){},B2AV:function(t,e,s){"use strict";var i={data:()=>({currentT:0,day:"00",hour:"00",minutes:"00",seconds:"00",timer:"",flag:!1,state:0}),mounted(){this.timer=setInterval(()=>{1==this.flag?clearInterval(this.timer):this.timeDown()},1e3)},beforeDestroy(){this.timer&&clearInterval(this.timer)},props:{countDownBgColor:{type:String},publishState:{type:Number},publishType:{type:String},currentTime:{type:Number},startTime:{type:String},endTime:{type:String},clearTime:{type:String},showPublishMask:{type:Function,default:null},hidePublishMask:{type:Function,default:null},hideCountDown:{type:Function,default:null}},methods:{timeDown(){var t=0;const e=parseInt(this.currentT+this.currentTime),s=parseInt(new Date(this.startTime).getTime()/1e3),i=parseInt(new Date(this.endTime).getTime()/1e3),a=parseInt(new Date(this.clearTime).getTime()/1e3);e<=a&&(this.state=2,t=a),e<=i&&(this.state=1,t=i),e<=s&&(this.state=0,t=s);let n=t-e;this.day=this.formate(parseInt(n/86400)),this.hour=this.formate(parseInt(n/3600%24)),this.minutes=this.formate(parseInt(n/60%60)),this.seconds=this.formate(parseInt(n%60)),0==this.state&&(this.showPublishMask(),this.$emit("update:countDownBgColor","linear-gradient(-45deg, rgb(0 196 255), rgb(0 67 255), rgb(0 60 169), rgb(0 41 103), rgb(0 55 138))"),this.$emit("update:publishState",0)),1==this.state&&(this.hidePublishMask(),this.$emit("update:countDownBgColor","linear-gradient(-45deg, #a73e00, #3f0084, #a73e00, #3f0084, #a73e00)"),this.$emit("update:publishState",1)),2==this.state&&(this.showPublishMask(),this.$emit("update:countDownBgColor","linear-gradient(135deg, rgb(48 102 255 / 63%) 10%, rgb(0 34 132) 100%)"),this.$emit("update:publishState",2)),2==this.state&&n<=0&&(this.hidePublishMask(),this.hideCountDown(),this.flag=!0,this.state=3,this.$emit("update:publishState",3)),this.currentT=this.currentT+1},formate:t=>t>=10?t:`0${t}`}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p"),0==t.state?s("div",{staticClass:"l-title"},[t._v(t._s(t.$t("exchange.publishcounttxt0")))]):t._e(),t._v(" "),1==t.state?s("div",{staticClass:"l-title"},[t._v(t._s(t.$t("exchange.publishcounttxt1")))]):t._e(),t._v(" "),2==t.state?s("div",{staticClass:"l-title"},[t._v(t._s(t.$t("exchange.publishcounttxt2")))]):t._e(),t._v(" "),3==t.state?s("div",{staticClass:"l-title"},[t._v(t._s(t.$t("exchange.publishcounttxt3")))]):t._e(),t._v(" "),s("p"),t._v(" "),s("p",{staticStyle:{"margin-top":"15px"}},[s("span",{staticClass:"num"},[t._v(t._s(t.day))]),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("exchange.dateTimeDay")))]),t._v(" "),s("span",{staticClass:"num"},[t._v(t._s(t.hour))]),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("exchange.dateTimeHour")))]),t._v(" "),s("span",{staticClass:"num"},[t._v(t._s(t.minutes))]),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("exchange.dateTimeMinutes")))]),t._v(" "),s("span",{staticClass:"num"},[t._v(t._s(t.seconds))]),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("exchange.dateTimeSeconds")))])])])},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("2YM2")},"data-v-1afe2ece",null);e.a=n.exports},QWvB:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={props:{skin:String,rows:Array},created(){}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Row",{staticClass:"expand-row",class:t.skin},[s("Col",{attrs:{span:"8"}},[s("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.expand.time"))+" ")])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.expand.price"))+" ")])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.expand.amount"))+" ")])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-key"},[t._v("成交额")])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.expand.fee")))])])],1),t._v(" "),t._l(t.rows,function(e,i){return s("Row",{key:"index"},[s("Col",{attrs:{span:"8"}},[s("span",{staticClass:"expand-value"},[t._v(t._s(t._f("dateFormat")(e.time)))])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-value"},[t._v(t._s(t._f("toFloor")(e.price)))])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-value"},[t._v(t._s(t._f("toFloor")(e.amount)))])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-value"},[t._v(t._s(t._f("toFloor")(e.turnover)))])]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("span",{staticClass:"expand-value"},[t._v(t._s(t._f("toFloor")(e.fee)))])])],1)})],2)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("onSk")},"data-v-8a3ed33c",null).exports,o=s("7t+N"),r=function(t,e,s,i){this._datafeedURL=t,this.coin=e,this.stompClient=s,this.lastBar=null,this.currentBar=null,this.subscribe=!0,this.scale=i};r.prototype.onReady=function(t){var e={exchanges:[],supported_resolutions:["1","5","15","30","60","240","1D","1W","1M"],supports_group_request:!1,supports_marks:!1,supports_search:!1,supports_time:!0,supports_timescale_marks:!1};o("#"+window.tvWidget.id).contents().on("click",".date-range-list>a",function(){window.tvWidget&&("分时"==o(this).html()?(o(this).parent().addClass("real-op").removeClass("common-op"),window.tvWidget.chart().setChartType(3)):(o(this).parent().addClass("common-op").removeClass("real-op"),window.tvWidget.chart().setChartType(1)))}),setTimeout(function(){t(e)},0)},r.prototype.subscribeBars=function(t,e,s,i,a){var n=this;this.stompClient.subscribe("/topic/second/trade/"+t.name,function(t){var e=JSON.parse(t.body);if(null!=n.lastBar&&e.length>0){var i=e[e.length-1].price;n.lastBar.close=i,i>n.lastBar.high&&(n.lastBar.high=i),i<n.lastBar.low&&(n.lastBar.low=i),s(n.lastBar)}}),this.stompClient.subscribe("/topic/second/thumb",function(e){var i=JSON.parse(e.body);if(i.symbol==t.name&&null!=n.lastBar&&i.length>0){var a=i.price;n.lastBar.close=a,a>n.lastBar.high&&(n.lastBar.high=a),a<n.lastBar.low&&(n.lastBar.low=a),s(n.lastBar)}}),this.stompClient.subscribe("/topic/second/kline/"+t.name,function(t){null!=n.currentBar&&s(n.currentBar);var e=JSON.parse(t.body),i=1e3*e.time;i-n.currentBar.time>0&&i-n.currentBar.time<864e5&&(n.lastBar={time:1e3*e.time,open:e.openPrice,high:e.highestPrice,low:e.lowestPrice,close:e.closePrice,volume:e.volume},n.currentBar=n.lastBar,s(n.lastBar))})},r.prototype.unsubscribeBars=function(t){this.subscribe=!1},r.prototype.resolveSymbol=function(t,e,s){var i={name:this.coin.symbol,"exchange-traded":"","exchange-listed":"",minmov:1,volumescale:1e4,has_daily:!0,has_weekly_and_monthly:!0,has_intraday:!0,description:this.coin.symbol,type:"bitcoin",session:"24x7",supported_resolutions:["1","5","15","30","60","240","1D","1W","1M"],pricescale:Math.pow(10,this.scale||2),ticker:"",timezone:"Asia/Shanghai"};setTimeout(function(){e(i)},0)},r.prototype._send=function(t,e){var s=t;if(e)for(var i=0;i<Object.keys(e).length;++i){var a=Object.keys(e)[i],n=encodeURIComponent(e[a]);s+=(0===i?"?":"&")+a+"="+n}return o.ajax({type:"GET",url:s,dataType:"json"})},r.prototype.getBars=function(t,e,s,i,a,n,o){var r=[],l=this;this._send(this._datafeedURL+"/history",{symbol:t.name,from:1e3*s,to:o?(new Date).getTime():1e3*i,resolution:e}).done(function(t){for(var e=t,s=0;s<e.length;s++){var i=e[s];r.push({time:i[0],open:i[1],high:i[2],low:i[3],close:i[4],volume:i[5]})}l.lastBar=r.length>0?r[r.length-1]:null,l.currentBar=l.lastBar;var n=0==r.length;a(r,{noData:n})}).fail(function(t){n(t)})},r.prototype.periodLengthSeconds=function(t,e){return 24*("D"===t?e:"M"===t?31*e:"W"===t?7*e:"H"===t?e*t/24:e*t/1440)*60*60};var l=r,c=s("H6tP"),h=s("wPKN"),d=s.n(h),u=s("B2AV"),p=s("0tEf"),m=s("O3w4"),g=s("xNPZ"),v={components:{expandRow:n,DepthGraph:c.a,BZCountDown:u.a},data(){let t=this;return{Mflag:!1,sliderStep:[25,50,75,100],sliderBuyLimitPercent:0,sliderSellLimitPercent:0,sliderBuyMarketPercent:0,sliderSellMarketPercent:0,memberRate:0,collecRequesting:!1,currentCoinIsFavor:!1,isUseBHB:!1,xsShow:!1,activeWidth:window.innerWidth,skin:"night",currentImgTable:"k",selectedOrder:"current",selectedPlate:"all",CNYRate:null,datafeed:null,defaultPath:"btc_usdt",basecion:"usdt",coinScale:6,baseCoinScale:6,symbolFee:.001,dataIndex:[],dataIndex2:[],searchKey:"",coinInfo:{},tradeCoins:[],selectedTradeCoin:"USDT",cycles:[],selectedCycle:{},currentCoin:{base:"",coin:"",symbol:""},enableMarketBuy:1,enableMarketSell:1,exchangeable:1,balance:0,publishType:"NONE",currentTime:0,publishAmount:0,publishPrice:0,startTime:"2000-01-01 00:00:00",endTime:"2000-01-01 00:00:00",clearTime:"2000-01-01 00:00:00",showPublish:!1,showCountDown:!1,countDownBgColor:"linear-gradient(135deg, rgb(0 199 144 / 63%) 10%, rgb(18 33 41) 100%)",publishState:0,favorColumns:[{title:this.$t("exchange.coin"),key:"coin",sortable:!1,width:120,className:"coin-menu-symbol",render:(t,e)=>t("div",[t("Icon",{props:{type:e.row.isFavor?"ios-star":"ios-star-outline"},nativeOn:{click:()=>{event.stopPropagation(),this.isLogin?"ivu-icon ivu-icon-ios-star"==event.currentTarget.className?(this.cancelCollect(e.index,e.row),event.currentTarget.className):(this.collect(e.index,e.row),event.currentTarget.className="ivu-icon ivu-icon-ios-star"):this.$Message.warning("请先登录")}}}),t("span",e.row.symbol)])},{title:this.$t("exchange.lastprice"),key:"close",sortable:!0,sortMethod:function(t,e,s){let i=parseFloat(t),a=parseFloat(e);return"asc"==s?i-a:a-i}},{title:this.$t("exchange.daychange"),key:"rose",sortable:!0,sortMethod:function(t,e,s){let i=t.replace(/[^\d|.|-]/g,"")-0,a=e.replace(/[^\d|.|-]/g,"")-0;return"asc"==s?i-a:a-i},render:(t,e)=>{const s=e.row;return t("span",{attrs:{class:parseFloat(s.rose)<0?"sell":"buy"}},s.rose)}}],coins:{_map:[],USDT:[],BTC:[],ETH:[],USDT2:[],BTC2:[],ETH2:[],favor:[],columns:[{title:this.$t("exchange.coin"),key:"coin",sortable:!1,width:120,className:"coin-menu-symbol",render:(t,e)=>"FLOW"==e.row.coin?t("div",[t("Icon",{props:{type:e.row.isFavor?"ios-star":"ios-star-outline"},nativeOn:{click:()=>{event.stopPropagation(),this.isLogin?"ivu-icon ivu-icon-ios-star"==event.currentTarget.className?(this.cancelCollect(e.index,e.row),event.currentTarget.className):(this.collect(e.index,e.row),event.currentTarget.className="ivu-icon ivu-icon-ios-star"):this.$Message.warning(this.$t("common.logintip"))}}}),t("span",e.row.coin),t("Tooltip",{props:{placement:"top-start",content:"价格跟随演示，价格为BTC价格的0.92%"}},[t("span",{style:{fontSize:"8px",padding:"2px 2px 1px 2px",color:"#FFF",marginLeft:"5px",background:"#F30",borderRadius:"8px",display:"inline-block",height:"8px",width:"8px"}},"")])]):"FDC"==e.row.coin?t("div",[t("Icon",{props:{type:e.row.isFavor?"ios-star":"ios-star-outline"},nativeOn:{click:()=>{event.stopPropagation(),this.isLogin?"ivu-icon ivu-icon-ios-star"==event.currentTarget.className?(this.cancelCollect(e.index,e.row),event.currentTarget.className):(this.collect(e.index,e.row),event.currentTarget.className="ivu-icon ivu-icon-ios-star"):this.$Message.warning(this.$t("common.logintip"))}}}),t("span",e.row.coin),t("Tooltip",{props:{placement:"right",content:"首发抢购活动演示"}},[t("span",{style:{fontSize:"8px",padding:"2px 2px 1px 2px",color:"#FFF",marginLeft:"5px",background:"#F30",borderRadius:"8px",display:"inline-block",height:"8px",width:"8px"}},"")])]):"FDB"==e.row.coin?t("div",[t("Icon",{props:{type:e.row.isFavor?"ios-star":"ios-star-outline"},nativeOn:{click:()=>{event.stopPropagation(),this.isLogin?"ivu-icon ivu-icon-ios-star"==event.currentTarget.className?(this.cancelCollect(e.index,e.row),event.currentTarget.className):(this.collect(e.index,e.row),event.currentTarget.className="ivu-icon ivu-icon-ios-star"):this.$Message.warning(this.$t("common.logintip"))}}}),t("span",e.row.coin),t("Tooltip",{props:{placement:"right",content:"首发分摊活动演示"}},[t("span",{style:{fontSize:"8px",padding:"2px 2px 1px 2px",color:"#FFF",marginLeft:"5px",background:"#F30",borderRadius:"8px",display:"inline-block",height:"8px",width:"8px"}},"")])]):t("div",[t("Icon",{props:{type:e.row.isFavor?"ios-star":"ios-star-outline"},nativeOn:{click:()=>{event.stopPropagation(),this.isLogin?"ivu-icon ivu-icon-ios-star"==event.currentTarget.className?(this.cancelCollect(e.index,e.row),event.currentTarget.className):(this.collect(e.index,e.row),event.currentTarget.className="ivu-icon ivu-icon-ios-star"):this.$Message.warning(this.$t("common.logintip"))}}}),t("span",e.row.coin)])},{title:this.$t("exchange.lastprice"),key:"close",sortable:!0,sortMethod:function(t,e,s){let i=parseFloat(t),a=parseFloat(e);return"asc"==s?i-a:a-i}},{title:this.$t("exchange.daychange"),key:"rose",sortable:!0,sortMethod:function(t,e,s){let i=t.replace(/[^\d|.|-]/g,"")-0,a=e.replace(/[^\d|.|-]/g,"")-0;return"asc"==s?i-a:a-i},render:(t,e)=>{const s=e.row;return t("span",{attrs:{class:parseFloat(s.rose)<0?"sell":"buy"}},s.rose)}}]},wallet:{base:0,coin:0},showMarket:!1,fixHistoryHeight:295,form:{buy:{limitPrice:0,limitAmount:0,marketAmount:0,limitTurnover:0},sell:{limitPrice:0,limitAmount:0,marketAmount:0,limitTurnover:0}},trade:{rows:[],columns:[{title:t.$t("exchange.price"),key:"price",render:(t,e)=>{return t("span",{attrs:{class:"BUY"==e.row.direction?"buy":"sell"}},e.row.price.toFixed(this.baseCoinScale))},renderHeader:(e,s)=>{return e("span",{},t.$t("exchange.price")+"("+t.currentCoin.base+")")}},{title:t.$t("exchange.num"),key:"amount",render:(t,e)=>t("span",{},e.row.amount.toFixed(this.coinScale)),renderHeader:(e,s)=>{return e("span",{},t.$t("exchange.num")+"("+t.currentCoin.coin+")")}},{title:t.$t("exchange.time"),key:"time",render:(t,e)=>t("span",{},this.timeFormat(e.row.time))}]},plate:{maxPostion:12,columns:[{title:t.$t("exchange.price"),key:"price",render:(t,e)=>{let s="",i="";const a=e.row.direction.toLowerCase();return 0==e.row.price&&(s=t("span",{},"--")),0!=e.row.price&&(i=e.row.price.toFixed(this.baseCoinScale))&&(s=t("span",{attrs:{class:a}},i)),s},renderHeader:(e,s)=>{return e("span",{},t.$t("exchange.price")+"("+t.currentCoin.base+")")}},{title:t.$t("exchange.num"),key:"amount",render:(t,e)=>{let s="";return 0==e.row.amount&&(s=t("span",{},"--")),0!=e.row.amount&&(s=t("span",{},e.row.amount.toFixed(this.coinScale))),s},renderHeader:(e,s)=>{return e("span",{},t.$t("exchange.num")+"("+t.currentCoin.coin+")")}},{title:t.$t("exchange.total"),key:"totalAmount",render:(t,e)=>0==e.row.price||0==e.row.totalAmount?t("span",{},"--"):t("span",{},e.row.totalAmount.toFixed(this.coinScale)),renderHeader:(e,s)=>{return e("span",{},t.$t("exchange.total")+"("+t.currentCoin.coin+")")}},{className:"percenttd",width:1,render:(t,e)=>{let s="0",i="BUY"===e.row.direction?"#00b275":"#f15057",a="BUY"===e.row.direction?this.plate.bidTotle:this.plate.askTotle;return e.row.totalAmount&&(s=100*(e.row.totalAmount/a).toFixed(4)+"%"),t("div",{style:{width:s,backgroundColor:i},attrs:{class:"percentdiv"}}," ")}}],askRows:[],bidRows:[]},currentOrder:{columns:[{type:"index",width:40,render:(t,e)=>t(n,{props:{skin:e.row.skin,rows:e.row.detail}})},{title:t.$t("exchange.symbol"),key:"symbol"},{title:t.$t("exchange.coinSymbol"),render:(t,e)=>t("span",e.row.coinSymbol)},{title:t.$t("exchange.orderType"),key:"type",render:(e,s)=>"NO"==s.row.type?e("span",{style:{color:"#7c7f82"}},t.$t("exchange.orderTypeNo")):e("span",{style:{color:"#00b275"}},t.$t("exchange.orderTypeYes"))},{title:t.$t("exchange.direction"),key:"direction",render:(e,s)=>{const i=s.row;return e("span",{attrs:{class:i.direction.toLowerCase()}},"BUY"==i.direction?t.$t("option.buyup"):t.$t("option.buydown"))}},{title:t.$t("exchange.openprice"),key:"openPrice",render:(e,s)=>e("span",t.toFloor(s.row.openPrice))},{title:t.$t("exchange.num"),key:"betAmount",render:(e,s)=>e("span",t.toFloor(s.row.betAmount))},{title:t.$t("exchange.cycle"),key:"cycleLength",render:(t,e)=>t("span",e.row.cycleLength+"s")},{title:t.$t("exchange.time"),key:"createTime",render:(t,e)=>t("span",{},this.dateFormat(e.row.createTime))}],rows:[]},historyOrder:{pageSize:10,total:10,page:0,columns:[{type:"index",width:40,render:(t,e)=>t(n,{props:{skin:e.row.skin,rows:e.row.detail}})},{title:t.$t("exchange.symbol"),key:"symbol"},{title:t.$t("exchange.coinSymbol"),render:(t,e)=>t("span",e.row.coinSymbol)},{title:t.$t("exchange.orderType"),key:"type",render:(e,s)=>"NO"==s.row.type?e("span",{style:{color:"#7c7f82"}},t.$t("exchange.orderTypeNo")):e("span",{style:{color:"#00b275"}},t.$t("exchange.orderTypeYes"))},{title:t.$t("exchange.direction"),key:"direction",render:(e,s)=>{const i=s.row;return e("span",{attrs:{class:i.direction.toLowerCase()}},"BUY"==i.direction?t.$t("option.buyup"):t.$t("option.buydown"))}},{title:t.$t("exchange.openprice"),key:"openPrice",render:(e,s)=>e("span",t.toFloor(s.row.openPrice))},{title:t.$t("exchange.num"),key:"betAmount",render:(e,s)=>e("span",t.toFloor(s.row.betAmount))},{title:t.$t("exchange.cycle"),key:"cycleLength",render:(t,e)=>t("span",e.row.cycleLength+"s")},{title:t.$t("exchange.closeprice"),key:"closePrice",render:(e,s)=>e("span",t.toFloor(s.row.closePrice))},{title:t.$t("exchange.earn"),key:"winAmount",render:(e,s)=>e("span",t.toFloor(s.row.winAmount))},{title:t.$t("exchange.status"),key:"result",render:(e,s)=>{const i=s.row.result;return"WIN"==i?e("span",{style:{color:"#00b275"}},t.$t("exchange.win")):"TIED"==i?e("span",{style:{color:"#7c7f82"}},t.$t("exchange.tied")):"LOSE"==i?e("span",{style:{color:"#f15057"}},t.$t("exchange.lose")):e("span",{},"--")}},{title:t.$t("exchange.time"),key:"createTime",render:(t,e)=>t("span",{},this.dateFormat(e.row.createTime))}],rows:[]},fullTrade:{}}},filters:{toFixedPublishAmount:function(t){var e=t.toFixed(7);return t>=10&&(e=t.toFixed(6)),t>=100&&(e=t.toFixed(5)),t>=1e3&&(e=t.toFixed(4)),t>=1e4&&(e=t.toFixed(3)),t>=1e5&&(e=t.toFixed(2)),t>=1e6&&(e=t.toFixed(1)),t>=1e7&&(e=t.toFixed(0)),e},toFixedPublishPrice:function(t){var e=t.toFixed(5).replace(/0+$/g,"");return t>=1&&(e=t.toFixed(4)),t>=10&&(e=t.toFixed(3)),t>=100&&(e=t.toFixed(2)),t>=1e3&&(e=t.toFixed(1)),t>=1e4&&(e=t.toFixed(1)),e}},computed:{rechargeUSDTUrl:function(){return"/uc/recharge?name="+this.currentCoin.base},rechargeCoinUrl:function(){return"/uc/recharge?name="+this.currentCoin.coin},isLogin:function(){return this.$store.getters.isLogin},member:function(){return this.$store.getters.member},lang:function(){return this.$store.state.lang},sliderBuyDisabled(){return this.wallet.base<this.toFloor(1/Math.pow(10,this.baseCoinScale))},sliderSellDisabled(){return this.wallet.coin<this.toFloor(1/Math.pow(10,this.coinScale))}},watch:{"form.buy.limitPrice":function(t){let e=this.form.buy.limitPrice,s=this.wallet.base,i=0;t>0&&(i=this.toFloor(s.div(e).mul(this.sliderBuyLimitPercent).mul(.01),this.coinScale)),this.form.buy.limitAmount=i,this.form.buy.limitTurnover=this.toFloor(t.mul(i),this.baseCoinScale)},"form.buy.limitAmount":function(t){this.form.buy.limitTurnover=this.toFloor(t.mul(this.form.buy.limitPrice),this.baseCoinScale)},"form.sell.limitPrice":function(t){this.form.sell.limitTurnover=this.toFloor(t.mul(this.form.sell.limitAmount),this.coinScale)},"form.sell.limitAmount":function(t){this.form.sell.limitTurnover=this.toFloor(t.mul(this.form.sell.limitPrice),this.coinScale)},lang:function(){this.updateLangData()},$route(t,e){this.init()},sliderBuyLimitPercent(){let t=this.form.buy.limitPrice,e=this.wallet.base,s=0;t>0&&(s=this.toFloor(e.div(t).mul(this.sliderBuyLimitPercent).mul(.01),this.coinScale)),this.form.buy.limitAmount=s},sliderSellLimitPercent(){let t=this.wallet.coin;this.form.sell.limitAmount=this.toFloor(t.mul(this.sliderSellLimitPercent).mul(.01),this.coinScale)},sliderBuyMarketPercent(){let t=this.wallet.base;this.form.buy.marketAmount=this.toFloor(t.mul(this.sliderBuyMarketPercent).mul(.01),this.baseCoinScale)},sliderSellMarketPercent(){let t=this.wallet.coin;this.form.sell.marketAmount=this.toFloor(t.mul(this.sliderSellMarketPercent).mul(.01),this.coinScale)},activeWidth:{handler(t,e){this.xsShow=t<=416},deep:!0,immediate:!0}},created:function(){this.init()},methods:{seachInputChange(){this.searchKey=this.searchKey.toUpperCase(),"favor"==this.basecion?this.dataIndex=this.coins.favor.filter(t=>0==t.coin.indexOf(this.searchKey)):"usdt"==this.basecion?this.dataIndex=this.coins.USDT.filter(t=>0==t.coin.indexOf(this.searchKey)):"btc"==this.basecion?this.dataIndex=this.coins.BTC.filter(t=>0==t.coin.indexOf(this.searchKey)):"eth"==this.basecion&&(this.dataIndex=this.coins.ETH.filter(t=>0==t.coin.indexOf(this.searchKey)))},silderGo(t,e){this[t]=e},init(){var t=this.$route.params.pair;void 0==t&&(this.$router.push("/second/"+this.defaultPath),t=this.defaultPath);const e=t.split("_")[1];e&&(this.basecion=e);var s=t.toUpperCase().split("_")[0],i=t.toUpperCase().split("_")[1];this.currentCoin.symbol=s+"/"+i,this.currentCoin.coin=s,this.currentCoin.base=i,this.$store.commit("navigate","nav-second"),this.$store.commit("setSkin",this.skin),this.getCNYRate(),this.getSymbolScale(),this.getCoinInfo(),this.getSymbol(),this.getPlate(),this.getPlateFull(),this.getTrade(),this.getTradeCoins(),this.getCycles(),this.isLogin&&(this.getWallet(),this.getCurrentOrder(),this.getHistoryOrder(),this.getWalletBalance()),this.sliderBuyLimitPercent=0,this.sliderSellLimitPercent=0,this.sliderBuyMarketPercent=0},getTradeCoins(){var t=this;this.$http.post(this.host+"/second/order/coins",{}).then(e=>{var s=e.body;0==s.code?this.tradeCoins=s.data:this.$Notice.error({title:t.$t("exchange.tip"),desc:s.message})})},getCycles(){var t=this;this.$http.post(this.host+"/second/order/cycles",{}).then(e=>{var s=e.body;0==s.code?(this.cycles=s.data,this.selectedCycle=s.data[0]):this.$Notice.error({title:t.$t("exchange.tip"),desc:s.message})})},tipFormat:t=>t+"%",changeBaseCion(t){this.basecion=t,"usdt"==t?(this.dataIndex=this.coins.USDT,this.dataIndex2=this.coins.USDT2):"btc"==t?(this.dataIndex=this.coins.BTC,this.dataIndex2=this.coins.BTC2):"eth"==t?(this.dataIndex=this.coins.ETH,this.dataIndex2=this.coins.ETH2):"favor"==t&&(this.dataIndex=this.coins.favor)},changePlate(t){this.plate.maxPostion="all"!=t?20:12,this.getPlate(t)},changeImgTable(t){"k"==t?this.Mflag=!1:"s"==t&&(this.Mflag=!0),this.currentImgTable=t},changeOrder(t){this.selectedOrder=t,this.isLogin&&(this.getCurrentOrder(),this.getHistoryOrder())},selectTradeCoin(t){this.selectedTradeCoin=t,this.getWalletBalance()},getWalletBalance(){this.$http.post(this.host+"/second/wallet/balance/"+this.selectedTradeCoin).then(t=>{var e=t.body;this.balance=e.data})},selectCycle(t){this.selectedCycle=t},setback(){var t=document.getElementsByClassName("container")[0],e=0,s=document;window.innerHeight&&(e=window.innerHeight),!window.innerHeight&&s.body.clientHeight&&(e=s.body.clientHeight),!window.innerHeight&&!s.body.clientHeight&&s.documentElement.clientHeight&&(e=s.documentElement.clientHeight),t.style.minHeight=e-100+"px"},updateLangData(){this.favorColumns[0].title=this.$t("exchange.coin"),this.favorColumns[1].title=this.$t("exchange.lastprice"),this.favorColumns[2].title=this.$t("exchange.daychange"),this.coins.columns[0].title=this.$t("exchange.coin"),this.coins.columns[1].title=this.$t("exchange.lastprice"),this.coins.columns[2].title=this.$t("exchange.daychange"),this.trade.columns[0].title=this.$t("exchange.num"),this.trade.columns[1].title=this.$t("exchange.price"),this.trade.columns[2].title=this.$t("exchange.time"),this.plate.columns[0].title=this.$t("exchange.stall"),this.plate.columns[1].title=this.$t("exchange.price"),this.plate.columns[2].title=this.$t("exchange.num"),this.plate.columns[3].title=this.$t("exchange.total"),this.currentOrder.columns[1].title=this.$t("exchange.time")+111111,this.currentOrder.columns[2].title=this.$t("exchange.symbol"),this.currentOrder.columns[3].title="交易币种",this.currentOrder.columns[4].title=this.$t("exchange.direction"),this.currentOrder.columns[5].title="开仓价格",this.currentOrder.columns[6].title=this.$t("exchange.num"),this.currentOrder.columns[7].title="周期",this.currentOrder.columns[9].title=this.$t("exchange.action"),this.historyOrder.columns[1].title=this.$t("exchange.time"),this.historyOrder.columns[2].title=this.$t("exchange.symbol"),this.historyOrder.columns[3].title=this.$t("exchange.type"),this.historyOrder.columns[4].title=this.$t("exchange.direction"),this.historyOrder.columns[5].title=this.$t("exchange.price"),this.historyOrder.columns[6].title=this.$t("exchange.num"),this.historyOrder.columns[7].title=this.$t("exchange.done"),this.historyOrder.columns[8].title=this.$t("exchange.dealamount"),this.historyOrder.columns[9].title=this.$t("exchange.status")},getCNYRate(){this.$http.post(this.host+"/market/exchange-rate/usd-cny").then(t=>{var e=t.body;this.CNYRate=e.data})},getCoin(t){return this.coins._map[t]},addClickOrder(t){if(!this.isLogin)return void this.$Message.error(this.$t("option.loginFirst"));if(0==this.form.buy.marketAmount)return void this.$Message.error(this.$t("swap.buyamounttip"));this.form.buy.marketAmount>this.balance&&(this.form.buy.marketAmount=this.balance);var e=this;let s={};s.symbol=this.currentCoin.symbol,s.direction=t,s.coinSymbol=this.selectedTradeCoin,s.cycleId=this.selectedCycle.id,s.amount=this.form.buy.marketAmount,this.$Spin.show(),this.$http.post(this.host+"/second/order/add",s).then(t=>{var s=t.body;0==s.code?(this.getCurrentOrder(),this.getHistoryOrder(),this.$Message.success(this.$t("option.betsuccess"))):this.$Notice.error({title:e.$t("exchange.tip"),desc:s.message}),this.$Spin.hide()})},getLang4K(){var t=this.$store.getters.lang;return"en_US"==t?"en":"ja_JP"==t?"ja":"ko_KR"==t?"ko":"de_DE"==t?"de_DE":"fr_FR"==t?"fr":"it_IT"==t?"it":"es_ES"==t?"es":"hi_IN"==t?"hi":"ru_RU"==t?"ru":"zh_HK"==t?"zh_TW":"zh_CN"==t?"zh":t},getKline(){let t={autosize:!0,height:320,fullscreen:window.innerWidth>767,symbol:this.symbol,interval:"5",timezone:this.getTimezone4K(),toolbar_bg:"#18202a",container_id:"kline_container",datafeed:this.datafeed,library_path:"/assets/charting_library/",locale:this.getLang4K(),debug:!1,drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},disabled_features:["header_resolutions","timeframes_toolbar","header_symbol_search","header_chart_type","header_compare","header_undo_redo","header_screenshot","header_saveload","volume_force_overlay","widget_logo","compare_symbol","display_market_status","go_to_date","header_interval_dialog_button","legend_context_menu","show_hide_button_in_legend","show_interval_dialog_on_key_press","snapshot_trading_drawings","symbol_info","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:["disable_resolution_rebuild","keep_left_toolbar_visible_on_small_screens","hide_last_na_study_output","move_logo_to_main_pane","dont_show_boolean_study_arguments","use_localstorage_for_settings","remove_library_container_border","save_chart_properties_to_local_storage","side_toolbar_in_fullscreen_mode","constraint_dialogs_movement","hide_left_toolbar_by_default","left_toolbar","same_data_requery","header_in_fullscreen_mode"],studies_overrides:{"volume.volume.color.0":"#fa5252","volume.volume.color.1":"#12b886","volume.volume.transparency":25},custom_css_url:"bundles/common.css",supported_resolutions:["1","5","15","30","60","240","1D","1W","1M"],charts_storage_url:"http://saveload.tradingview.com",charts_storage_api_version:"1.1",client_id:"tradingview.com",user_id:"public_user_id",overrides:{"paneProperties.background":"#1B1E2E","paneProperties.vertGridProperties.color":"rgba(0,0,0,.1)","paneProperties.horzGridProperties.color":"rgba(0,0,0,.1)","scalesProperties.textColor":"#61688A","mainSeriesProperties.candleStyle.upColor":"#12b886","mainSeriesProperties.candleStyle.downColor":"#fa5252","mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.wickUpColor":"#589065","mainSeriesProperties.candleStyle.wickDownColor":"#AE4E54","paneProperties.legendProperties.showLegend":!0,"mainSeriesProperties.areaStyle.color1":"rgba(71, 78, 112, 0.5)","mainSeriesProperties.areaStyle.color2":"rgba(71, 78, 112, 0.5)","mainSeriesProperties.areaStyle.linecolor":"#9194a4",volumePaneSize:"small"},time_frames:[{text:"1min",resolution:"1",description:"realtime",title:this.$t("exchange.realtime")},{text:"1min",resolution:"1",description:"1min"},{text:"5min",resolution:"5",description:"5min"},{text:"15min",resolution:"15",description:"15min"},{text:"30min",resolution:"30",description:"30min"},{text:"1hour",resolution:"60",description:"1hour",title:"1hour"},{text:"4hour",resolution:"240",description:"4hour",title:"4hour"},{text:"1day",resolution:"1D",description:"1day",title:"1day"},{text:"1week",resolution:"1W",description:"1week",title:"1week"},{text:"1mon",resolution:"1M",description:"1mon"}]};"day"===this.skin&&(t.toolbar_bg="#fff",t.custom_css_url="bundles/common_day.css",t.overrides["paneProperties.background"]="#fff",t.overrides["mainSeriesProperties.candleStyle.upColor"]="#a6d3a5",t.overrides["mainSeriesProperties.candleStyle.downColor"]="#ffa5a6"),s.e(62).then(function(){var e=[s("s2Hi")];(function(e){var s=window.tvWidget=new TradingView.widget(t);s.onChartReady(function(){s.chart().executeActionById("drawingToolbarAction"),window.innerWidth>767&&(s.chart().createStudy("Moving Average",!1,!1,[5],null,{"plot.color":"#EDEDED"}),s.chart().createStudy("Moving Average",!1,!1,[10],null,{"plot.color":"#ffe000"}),s.chart().createStudy("Moving Average",!1,!1,[30],null,{"plot.color":"#ce00ff"}),s.chart().createStudy("Moving Average",!1,!1,[60],null,{"plot.color":"#00adff"})),window.innerWidth>767&&s.createButton().attr("title","realtime").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(3),s.setSymbol("","1"))}).append("<span>Time</span>"),s.createButton().attr("title","M1").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","1"))}).append("<span>M1</span>"),window.innerWidth>767&&s.createButton().attr("title","M5").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","5"))}).append("<span>M5</span>").addClass("selected"),s.createButton().attr("title","M15").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","15"))}).append("<span>M15</span>"),s.createButton().attr("title","M30").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","30"))}).append("<span>M30</span>"),s.createButton().attr("title","H1").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","60"))}).append("<span>H1</span>"),window.innerWidth>767&&s.createButton().attr("title","H4").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","240"))}).append("<span>H4</span>"),s.createButton().attr("title","D1").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","1D"))}).append("<span>D1</span>"),s.createButton().attr("title","W1").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","1W"))}).append("<span>W1</span>"),s.createButton().attr("title","M1").on("click",function(){d()(this).hasClass("selected")||(d()(this).addClass("selected").parent(".group").siblings(".group").find(".button.selected").removeClass("selected"),s.chart().setChartType(1),s.setSymbol("","1M"))}).append("<span>M1</span>")})}).apply(null,e)}).catch(s.oe)},getFavor(){this.$http.post(this.host+this.api.exchange.favorFind,{}).then(t=>{this.coins.favor=[],this.currentCoinIsFavor=!1;for(var e=t.body,s=0;s<e.length;s++){var i=this.getCoin(e[s].symbol);null!=i&&(i.isFavor=!0,this.coins.favor.push(i)),this.currentCoin.symbol==e[s].symbol&&(this.currentCoinIsFavor=!0)}})},getSymbol(){this.$http.post(this.host+this.api.second.thumb,{}).then(t=>{for(var e=t.body,i=0;i<e.length;i++){(a=e[i]).base=e[i].symbol.split("/")[1],this.coins[a.base]=[],this.coins[a.base+"2"]=[],this.coins._map=[],this.coins.favor=[]}for(i=0;i<e.length;i++){var a;(a=e[i]).price=e[i].close=e[i].close.toFixed(this.baseCoinScale),a.rose=e[i].chg>0?"+"+(100*e[i].chg).toFixed(2)+"%":(100*e[i].chg).toFixed(2)+"%",a.coin=e[i].symbol.split("/")[0],a.base=e[i].symbol.split("/")[1],a.href=(a.coin+"_"+a.base).toLowerCase(),a.isFavor=!1,this.coins._map[a.symbol]=a,0==a.zone?this.coins[a.base].push(a):this.coins[a.base+"2"].push(a),a.symbol==this.currentCoin.symbol&&(this.currentCoin=a,this.form.buy.limitPrice=this.form.sell.limitPrice=a.price)}this.isLogin&&this.getFavor(),s.e(64).then(function(){var t=[s("R59z")];(function(t){t.clickScTab()}).apply(null,t)}).catch(s.oe),this.startWebsock(),this.changeBaseCion(this.basecion)})},getCoinInfo(){this.$http.post(this.host+this.api.market.coinInfo,{unit:this.currentCoin.coin}).then(t=>{var e=t.body;null!=e&&(this.coinInfo=e)})},getSymbolScale(){this.$http.post(this.host+this.api.market.symbolInfo,{symbol:this.currentCoin.symbol}).then(t=>{var e=t.body;null!=e&&(this.currentCoin.coinScale=e.coinScale,this.currentCoin.baseCoinScale=e.baseCoinScale,this.baseCoinScale=e.baseCoinScale,this.coinScale=e.coinScale,this.symbolFee=e.fee,this.enableMarketBuy=e.enableMarketBuy,this.enableMarketSell=e.enableMarketSell,this.exchangeable=e.exchangeable,this.publishType=e.publishType,this.startTime=e.startTime,this.endTime=e.endTime,this.clearTime=e.clearTime,this.currentTime=parseInt(e.currentTime/1e3),this.publishAmount=e.publishAmount,this.publishPrice=e.publishPrice,g(e.currentTime).format("YYYY-MM-DD HH:mm:ss")<this.clearTime&&("QIANGGOU"==this.publishType||"FENTAN"==this.publishType)?(this.showPublish=!0,this.showCountDown=!0):(this.showPublish=!1,this.showCountDown=!1))})},getPlate(t=""){var e={};e.symbol=this.currentCoin.symbol,this.$http.post(this.host+this.api.market.platemini,e).then(e=>{this.plate.askRows=[],this.plate.bidRows=[];let s=e.body;if(s.ask&&s.ask.items){for(var i=0;i<s.ask.items.length;i++)s.ask.items[i].totalAmount=0==i?s.ask.items[i].amount:s.ask.items[i-1].totalAmount+s.ask.items[i].amount;if(s.ask.items.length>=this.plate.maxPostion){for(i=this.plate.maxPostion;i>0;i--){(a=s.ask.items[i-1]).direction="SELL",a.position=i,this.plate.askRows.push(a)}const t=this.plate.askRows,e=(t.length,t[0].totalAmount);this.plate.askTotle=e}else{for(i=this.plate.maxPostion;i>s.ask.items.length;i--){(a={price:0,amount:0,direction:"SELL"}).position=i,a.totalAmount=a.amount,this.plate.askRows.push(a)}for(i=s.ask.items.length;i>0;i--){var a;(a=s.ask.items[i-1]).direction="SELL",a.position=i,this.plate.askRows.push(a)}var n=s.ask.items.length-1>0?s.ask.items.length-1:0;const t=this.plate.askRows,e=(t.length,t[n].totalAmount);this.plate.askTotle=e}}if(s.bid&&s.bid.items){for(i=0;i<s.bid.items.length;i++)s.bid.items[i].totalAmount=0==i?s.bid.items[i].amount:s.bid.items[i-1].totalAmount+s.bid.items[i].amount;for(i=0;i<s.bid.items.length;i++){if((o=s.bid.items[i]).direction="BUY",o.position=i+1,this.plate.bidRows.push(o),i==this.plate.maxPostion-1)break}if(s.bid.items.length<this.plate.maxPostion){for(i=s.bid.items.length;i<this.plate.maxPostion;i++){var o;(o={price:0,amount:0,direction:"BUY"}).position=i+1,o.totalAmount=0,this.plate.bidRows.push(o)}var r=s.bid.items.length-1>0?s.bid.items.length-1:0;const t=this.plate.bidRows,e=(t.length,t[r].totalAmount);this.plate.bidTotle=e}else{const t=this.plate.bidRows,e=t[t.length-1].totalAmount;this.plate.bidTotle=e}}""!=t&&(this.selectedPlate=t)})},getPlateFull(){var t={};t.symbol=this.currentCoin.symbol,this.$http.post(this.host+this.api.market.platefull,t).then(t=>{var e=t.body;this.fullTrade=e,e.skin=this.skin,this.$refs.depthGraph.draw(e)})},updatePlate(t,e){if("sell"==t)for(var s=0;s<this.plate.askRows.length;s++){if(e.price>this.plate.askRows[s].price&&0!=s&&this.plate.askRows[s].price>0){this.plate.askRows.splice(s,0,e),this.plate.askRows.shift();break}if(s==this.plate.askRows.length-1&&(e.price<this.plate.askRows[s].price||0==this.plate.askRows[s].price)){this.plate.askRows.push(e),this.plate.askRows.shift();break}}else if("buy"==t)for(s=0;s<this.plate.bidRows.length;s++)if(e.price>this.plate.bidRows[s].price){this.plate.bidRows.splice(s,0,e),this.plate.bidRows.pop();break}},getTrade(){var t={};t.symbol=this.currentCoin.symbol,t.size=20,this.$http.post(this.host+this.api.second.trade,t).then(t=>{this.trade.rows=[];for(var e=t.body,s=0;s<e.length;s++)this.trade.rows.push(e[s])})},startWebsock(){this.stompClient&&this.stompClient.ws.close();var t=null,e=this,s=new m(e.host+e.api.second.ws);t=p.over(s),this.stompClient=t,t.debug=!1,t.connect({},function(s){e.datafeed=new l(e.host+"/second",e.currentCoin,t,e.baseCoinScale),e.getKline(),t.subscribe("/topic/second/thumb",function(t){var s=JSON.parse(t.body),i=e.getCoin(s.symbol);null!=i&&(i.price=s.close,i.rose=s.chg>0?"+"+(100*s.chg).toFixed(2)+"%":(100*s.chg).toFixed(2)+"%",i.close=s.close,i.high=s.high,i.low=s.low,i.turnover=parseInt(s.volume),i.volume=s.volume,i.usdRate=s.usdRate)}),t.subscribe("/topic/second/trade/"+e.currentCoin.symbol,function(t){var s=JSON.parse(t.body);if(s.length>0)for(var i=0;i<s.length;i++)e.trade.rows.unshift(s[i]);e.trade.rows.length>30&&(e.trade.rows=e.trade.rows.slice(0,30))}),e.isLogin&&(t.subscribe("/topic/second/order-canceled/"+e.currentCoin.symbol+"/"+e.member.id,function(t){JSON.parse(t.body);e.refreshAccount()}),t.subscribe("/topic/second/order-completed/"+e.currentCoin.symbol+"/"+e.member.id,function(t){JSON.parse(t.body);e.refreshAccount()}),t.subscribe("/topic/second/order-trade/"+e.currentCoin.symbol+"/"+e.member.id,function(t){JSON.parse(t.body);e.refreshAccount()})),t.subscribe("/topic/second/trade-plate/"+e.currentCoin.symbol,function(t){var s=JSON.parse(t.body);if("SELL"==s.direction){var i=s.items;e.plate.askRows=[];let t=0;for(var a=e.plate.maxPostion-1;a>=0;a--){var n={};a<i.length?n=i[a]:(n.price=0,n.amount=0),n.direction="SELL",n.position=a+1,e.plate.askRows.push(n)}for(a=e.plate.askRows.length-1;a>=0;a--)a==e.plate.askRows.length-1||0==e.plate.askRows[a].price?e.plate.askRows[a].totalAmount=e.plate.askRows[a].amount:e.plate.askRows[a].totalAmount=e.plate.askRows[a+1].totalAmount+e.plate.askRows[a].amount,t+=e.plate.askRows[a].amount;e.plate.askTotle=t}else{var o=s.items;e.plate.bidRows=[];let t=0;for(a=0;a<e.plate.maxPostion;a++){var r={};a<o.length?r=o[a]:(r.price=0,r.amount=0),r.direction="BUY",r.position=a+1,e.plate.bidRows.push(r)}for(a=0;a<e.plate.bidRows.length;a++)0==a||0==e.plate.bidRows[a].amount?e.plate.bidRows[a].totalAmount=e.plate.bidRows[a].amount:e.plate.bidRows[a].totalAmount=e.plate.bidRows[a-1].totalAmount+e.plate.bidRows[a].amount,t+=e.plate.bidRows[a].amount;e.plate.bidTotle=t}"s"==e.currentImgTable&&e.getPlateFull()})})},limited_price(){this.showMarket=!1},market_price(){this.showMarket=!0},currentCoinFavorChange(){if(!this.isLogin)return void this.$Message.warning(this.$t("common.logintip"));if(this.collecRequesting)return;const t=this.currentCoin.symbol;this.collecRequesting=!0,this.currentCoinIsFavor?this.$http.post(this.host+this.api.exchange.favorDelete,{symbol:t}).then(t=>{0==t.body.code&&(this.$Message.info(this.$t("exchange.cancel_favorite")),this.getSymbol(),this.currentCoinIsFavor=!1),this.collecRequesting=!1}):this.$http.post(this.host+this.api.exchange.favorAdd,{symbol:t}).then(t=>{0==t.body.code&&(this.$Message.info(this.$t("exchange.do_favorite")),this.getSymbol(),this.currentCoinIsFavor=!0),this.collecRequesting=!1})},collect(t,e){if(this.isLogin){var s={};s.symbol=e.symbol,this.$http.post(this.host+this.api.exchange.favorAdd,s).then(t=>{0==t.body.code&&(this.$Message.info(this.$t("exchange.do_favorite")),this.getCoin(e.symbol).isFavor=!0,e.isFavor=!0,this.coins.favor.push(e),this.currentCoin.symbol==e.symbol&&(this.currentCoinIsFavor=!0))})}else this.$Message.info(this.$t("common.logintip"))},cancelCollect(t,e){if(this.isLogin){var s={};s.symbol=e.symbol,this.$http.post(this.host+this.api.exchange.favorDelete,s).then(t=>{if(0==t.body.code){this.$Message.info(this.$t("exchange.cancel_favorite")),this.getCoin(e.symbol).isFavor=!1;for(var s=0;s<this.coins.favor.length;s++){if(this.coins.favor[s].symbol==e.symbol){this.coins.favor.splice(s,1);break}}this.currentCoin.symbol==e.symbol&&(this.currentCoinIsFavor=!1)}})}else this.$Message.info(this.$t("common.logintip"))},gohref(t,e){this.$router.push({name:"SecondPair",params:{pair:t.href}})},buyWithLimitPrice(){if(""!=this.form.buy.limitAmount){var t=this.wallet.base/this.form.buy.limitPrice;if(this.form.buy.limitAmount>t)this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.buyamounttipwarning")+this.toFloor(t)});else{var e=this,s={};s.symbol=this.currentCoin.symbol,s.price=this.form.buy.limitPrice,s.amount=this.form.buy.limitAmount,s.direction="BUY",s.type="LIMIT_PRICE",s.useDiscount=this.isUseBHB?"1":"0",this.$http.post(this.host+this.api.exchange.orderAdd,s).then(t=>{var s=t.body;0==s.code?(this.$Notice.success({title:e.$t("exchange.tip"),desc:e.$t("exchange.success")}),this.getWallet(),this.getCurrentOrder(),this.getHistoryOrder(),this.form.buy.limitAmount=0,this.sliderBuyLimitPercent=0):this.$Notice.error({title:e.$t("exchange.tip"),desc:s.message})})}}else this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.buyamounttip")})},buyWithMarketPrice(){if(""!=this.form.buy.marketAmount)if(this.form.buy.marketAmount>parseFloat(this.wallet.base))this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.pricetipwarning")+this.wallet.base});else{var t={};t.symbol=this.currentCoin.symbol,t.price=0,t.amount=this.form.buy.marketAmount,t.direction="BUY",t.type="MARKET_PRICE",t.useDiscount=this.isUseBHB?"1":"0";var e=this;this.$http.post(this.host+this.api.exchange.orderAdd,t).then(t=>{var s=t.body;0==s.code?(this.$Notice.success({title:e.$t("exchange.tip"),desc:e.$t("exchange.success")}),this.refreshAccount(),this.sliderBuyMarketPercent=0):this.$Notice.error({title:e.$t("exchange.tip"),desc:s.message})})}else this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.pricetip")})},sellLimitPrice(){if(""!=this.form.sell.limitAmount)if(""!=this.form.sell.limitPrice)if(this.form.sell.limitAmount>parseFloat(this.wallet.coin))this.$Notice.error({title:this.$t("exchange.tip"),desc:"最多能卖"+this.wallet.coin+"个"});else{var t={};t.symbol=this.currentCoin.symbol,t.price=this.form.sell.limitPrice,t.amount=this.form.sell.limitAmount,t.direction="SELL",t.type="LIMIT_PRICE",t.useDiscount=this.isUseBHB?"1":"0";var e=this;this.$http.post(this.host+this.api.exchange.orderAdd,t).then(t=>{var s=t.body;0==s.code?(this.$Notice.success({title:e.$t("exchange.tip"),desc:e.$t("exchange.success")}),this.refreshAccount(),this.form.sell.limitAmount=0,this.sliderSellLimitPercent=0):this.$Notice.error({title:e.$t("exchange.tip"),desc:s.message})})}else this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.sellpricetip")});else this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.sellamounttip")})},sellMarketPrice(){if(""!=this.form.sell.marketAmount)if(this.form.sell.marketAmount>parseFloat(this.wallet.coin))this.$Notice.error({title:this.$t("exchange.tip"),desc:"最多能卖"+this.wallet.coin+"个"});else{var t={};t.symbol=this.currentCoin.symbol,t.price=0,t.amount=this.form.sell.marketAmount,t.direction="SELL",t.type="MARKET_PRICE",t.useDiscount=this.isUseBHB?"1":"0";var e=this;this.$http.post(this.host+this.api.exchange.orderAdd,t).then(t=>{var s=t.body;0==s.code?(this.$Notice.success({title:e.$t("exchange.tip"),desc:e.$t("exchange.success")}),this.refreshAccount(),this.sliderSellMarketPercent=0):this.$Notice.error({title:e.$t("exchange.tip"),desc:s.message})})}else this.$Notice.error({title:this.$t("exchange.tip"),desc:this.$t("exchange.sellamounttip")})},buyPlate(t){this.form.buy.limitPrice=t.price,this.form.sell.limitPrice=t.price},sellPlate(t){this.form.buy.limitPrice=t.price,this.form.sell.limitPrice=t.price},getWallet(){this.$http.post(this.host+this.api.uc.wallet+this.currentCoin.base,{}).then(t=>{var e=t.body;this.wallet.base=e.data.balance||""}),this.$http.post(this.host+this.api.uc.wallet+this.currentCoin.coin,{}).then(t=>{var e=t.body;this.wallet.coin=e.data.balance})},getCurrentOrder(){var t={pageNo:0,pageSize:100};t.symbol=this.currentCoin.symbol,this.currentOrder.rows=[];this.$http.post(this.host+"/second/order/current",t).then(t=>{var e=t.body;e.data.length>0&&(this.currentOrder.rows=e.data)})},getHistoryOrder(t){void 0==t?t=this.historyOrder.page:t-=1,this.historyOrder.rows=[];var e={};e.pageNo=t,e.pageSize=this.historyOrder.pageSize,e.symbol=this.currentCoin.symbol;this.$http.post(this.host+"/second/order/history",e).then(t=>{var e=t.body;let s=[];if(e.content.length>0){this.historyOrder.total=e.totalElements,this.historyOrder.page=e.number;for(var i=0;i<e.content.length;i++){var a=e.content[i];a&&s.push(a)}this.historyOrder.rows=s}})},cancel(t){var e=this.currentOrder.rows[t];this.$Modal.confirm({title:"撤单提示",content:this.$t("exchange.undotip"),onOk:()=>{this.$http.post(this.host+this.api.exchange.orderCancel+"/"+e.orderId,{}).then(t=>{var e=t.body;0==e.code?(this.refreshAccount(),this.$Notice.success({title:this.$t("exchange.tip"),desc:this.$t("exchange.cancelsuccess")})):this.$Notice.error({title:this.$t("exchange.tip"),desc:e.message})})}})},refreshAccount:function(){this.getCurrentOrder(),this.getHistoryOrder(),this.getWallet()},keyEvent(t){console.log(this.baseCoinScale);var e=new RegExp("([0-9]+.[0-9]{"+this.baseCoinScale+"})[0-9]*","");this.form.buy.marketAmount=this.form.buy.marketAmount.toString().replace(e,"$1")},showPublishMask(){this.showPublish||(this.showPublish=!0,console.log("show"))},hidePublishMask(){this.showPublish&&(this.showPublish=!1,console.log("hide"))},hideCountDown(){this.showCountDown&&(this.showCountDown=!1)},setPublishProgress(){}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container exchange",class:t.skin},[t.xsShow?s("div",{staticClass:"tabBar"},[s("Tabs",[s("Tab-pane",{attrs:{label:"币种选择"}},[s("div",{staticClass:"right"},[s("div",{staticClass:"coin-menu"},[s("div",{staticStyle:{padding:"8px 10px",height:"48px"}},[s("Input",{attrs:{search:"",placeholder:t.$t("common.searchplaceholder")},on:{"on-change":t.seachInputChange},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),t._v(" "),s("div",{staticClass:"sc_filter"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],class:{active:"favor"===t.basecion},on:{click:function(e){t.changeBaseCion("favor")}}},[t._v(t._s(t.$t("service.CUSTOM")))]),t._v(" "),s("span",{class:{active:"usdt"===t.basecion},on:{click:function(e){t.changeBaseCion("usdt")}}},[t._v("USDT")])]),t._v(" "),s("div",{staticClass:"trade-wrap"},[s("Table",{directives:[{name:"show",rawName:"v-show",value:"usdt"===t.basecion,expression:"basecion === 'usdt'"}],attrs:{height:"780","highlight-row":"",id:"USDT",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"btc"===t.basecion,expression:"basecion === 'btc'"}],attrs:{height:"780","highlight-row":"",id:"BTC",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"eth"===t.basecion,expression:"basecion === 'eth'"}],attrs:{height:"780","highlight-row":"",id:"ETH",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"favor"===t.basecion,expression:"basecion === 'favor'"}],attrs:{height:"780","highlight-row":"","no-data-text":t.$t("common.nodata"),id:"collect",columns:t.favorColumns,data:t.dataIndex},on:{"on-current-change":t.gohref}})],1)])])]),t._v(" "),s("Tab-pane",{attrs:{label:"K线图"}},[s("div",{staticClass:"center"},[s("div",{staticClass:"symbol"},[s("div",{staticClass:"item",on:{click:t.currentCoinFavorChange}},[t.currentCoinIsFavor?s("Icon",{attrs:{type:"ios-star",color:"#f0a70a",size:"24"}}):s("Icon",{attrs:{type:"ios-star-outline",color:"#f0a70a",size:"24"}})],1),t._v(" "),s("div",{staticClass:"item",staticStyle:{"margin-left":"-30px"}},[s("span",{staticClass:"coin"},[t._v(t._s(t.currentCoin.coin)+"\n                  "),s("small",[t._v("/"+t._s(t.currentCoin.base))])]),t._v(" "),s("Poptip",{attrs:{trigger:"hover",title:t.coinInfo.name,content:"content",placement:"bottom-start","word-wrap":"",width:"300"}},[s("Icon",{staticStyle:{color:"#546886","margin-left":"5px"},attrs:{type:"md-information-circle"}}),t._v(" "),s("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"coin-info"},[t._v(t._s(t.coinInfo.information))]),t._v(" "),s("p",{staticStyle:{"text-align":"right","margin-top":"-10px"}},[s("a",{attrs:{href:t.coinInfo.infolink,target:"_blank"}},[t._v(t._s(t.$t("exchange.moredetail")))])])])],1)],1),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.NewPrice")))]),t._v(" "),s("span",{staticClass:"num",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t._f("toFixed")(t.currentCoin.close,t.baseCoinScale)))]),t._v(" "),s("span",{staticClass:"price-cny"},[t._v("≈ ￥"+t._s(t._f("toFixed")(t.currentCoin.usdRate*t.CNYRate,2)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.Change")))]),t._v(" "),s("span",{staticClass:"num",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t.currentCoin.rose))])])]),t._v(" "),s("div",{staticClass:"symbol"},[s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.high")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t._f("toFixed")(t.currentCoin.high,t.baseCoinScale)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.low")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t._f("toFixed")(t.currentCoin.low,t.baseCoinScale)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.ExchangeNum")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t.currentCoin.volume)+" "+t._s(t.currentCoin.coin))])])]),t._v(" "),s("div",{staticClass:"imgtable",staticStyle:{height:"460px"}},[s("div",{staticClass:"handler"},[s("span",{class:{active:"k"===t.currentImgTable},on:{click:function(e){t.changeImgTable("k")}}},[t._v(t._s(t.$t("exchange.kline")))]),t._v(" "),s("span",{class:{active:"s"===t.currentImgTable},on:{click:function(e){t.changeImgTable("s")}}},[t._v(t._s(t.$t("exchange.depth")))])]),t._v(" "),s("div",{staticStyle:{position:"relative",height:"100%",width:"100%"}},[s("div",{class:{mflag:!t.Mflag},staticStyle:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}},[s("div",{class:{hidden:"s"===t.currentImgTable},staticStyle:{position:"static"},attrs:{id:"kline_container"}})]),t._v(" "),s("div",{class:{mflag:t.Mflag},staticStyle:{height:"100%",width:"100%",position:"absolute",top:"0",left:"0","background-color":"#0b1520"}},[s("DepthGraph",{ref:"depthGraph",class:{hidden:"k"===t.currentImgTable}})],1)])]),t._v(" "),s("div",{staticClass:"trade_wrap"},[s("div",{staticClass:"trade_panel trade_panel_logout",staticStyle:{position:"relative"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"mask mask_phone"},[s("span",[t._v(t._s(t.$t("common.please"))+"\n                    "),s("router-link",{attrs:{to:"/login"}},[s("span",{staticStyle:{color:"#f0a70a"}},[t._v(t._s(t.$t("common.login")))])]),t._v("\n                    /\n                    "),s("router-link",{attrs:{to:"/register"}},[s("span",{staticStyle:{color:"#00dcff"}},[t._v(t._s(t.$t("common.register")))])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin&&t.showPublish,expression:"isLogin && showPublish"}],staticClass:"publish-mask"},[s("div",{staticStyle:{width:"100%","margin-top":"17%","text-align":"center","letter-spacing":"3px"}},[0==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate0")))]):t._e(),t._v(" "),1==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate1")))]):t._e(),t._v(" "),2==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate2")))]):t._e(),t._v(" "),3==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate3")))]):t._e()])]),t._v(" "),s("div",{staticClass:"trade_bd"},[s("Form",{staticStyle:{width:"100%","margin-top":"20px"}},[s("FormItem",[s("label",[t._v(t._s(t.$t("second.transactionMode")))]),t._v(" "),s("div",{staticClass:"quantity-group"},t._l(t.tradeCoins,function(e){return s("div",{key:e.id,class:{"quantity-item":!0,current:t.selectedTradeCoin==e},on:{click:function(s){t.selectTradeCoin(e)}}},[t._v("\n                          "+t._s(e)+"\n                        ")])}))]),t._v(" "),s("FormItem",[s("label",[t._v(t._s(t.$t("second.opentime")))]),t._v(" "),s("div",{staticClass:"quantity-group"},t._l(t.cycles,function(e){return s("div",{key:e.id,class:{"quantity-item":!0,current:t.selectedCycle.cycleLength==e.cycleLength},on:{click:function(s){t.selectCycle(e)}}},[t._v("\n                          "+t._s(e.cycleLength)+"s\n                        ")])}))]),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("second.profitability")))]),t._v(" "),s("Input",{attrs:{disabled:"",placeholder:""},model:{value:100*t.selectedCycle.cycleRate,callback:function(e){t.$set(t.selectedCycle,"cycleRate * 100",e)},expression:"selectedCycle.cycleRate * 100"}}),t._v(" "),s("label",{staticClass:"after"},[t._v("%")])],1),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("second.balance")))]),t._v(" "),s("Input",{attrs:{disabled:"",placeholder:""},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}}),t._v(" "),s("label",{staticClass:"after"},[t._v(t._s(t.selectedTradeCoin))])],1),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("exchange.buynum")))]),t._v(" "),s("Input",{attrs:{placeholder:t.$t("exchange.amount")},on:{"on-keyup":t.keyEvent},model:{value:t.form.buy.marketAmount,callback:function(e){t.$set(t.form.buy,"marketAmount",e)},expression:"form.buy.marketAmount"}}),t._v(" "),s("label",{staticClass:"after"},[t._v(t._s(t.selectedTradeCoin))])],1)],1),t._v(" "),s("div",{staticStyle:{width:"100%","margin-top":"20px"}},[s("div",{staticStyle:{width:"50%",float:"left","text-align":"center"}},[t.isLogin?s("Button",{staticClass:"bg-green",staticStyle:{width:"80%"},attrs:{size:"large"},on:{click:function(e){t.addClickOrder(0)}}},[t._v(t._s(t.$t("option.buyup")))]):t._e(),t._v(" "),t.isLogin?t._e():s("Button",{staticClass:"bg-gray",staticStyle:{width:"80%"},attrs:{size:"large"}},[t._v(t._s(t.$t("option.login")))])],1),t._v(" "),s("div",{staticStyle:{width:"50%",float:"right","text-align":"center"}},[t.isLogin?s("Button",{staticClass:"bg-red",staticStyle:{width:"80%"},attrs:{size:"large"},on:{click:function(e){t.addClickOrder(1)}}},[t._v(t._s(t.$t("option.buydown")))]):t._e(),t._v(" "),t.isLogin?t._e():s("Button",{staticClass:"bg-gray",staticStyle:{width:"80%"},attrs:{size:"large"}},[t._v(t._s(t.$t("option.login")))])],1)])],1)])])])]),t._v(" "),s("Tab-pane",{attrs:{label:"买卖详情"}},[s("div",{staticClass:"left plate-wrap",staticStyle:{position:"relative"}},[t.showCountDown?s("div",{staticClass:"lightning-panel",style:{background:t.countDownBgColor}},[s("div",{staticClass:"l-content"},[s("BZCountDown",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{countDownBgColor:t.countDownBgColor,publishState:t.publishState,publishType:t.publishType,currentTime:t.currentTime,startTime:t.startTime,clearTime:t.clearTime,endTime:t.endTime,showPublishMask:t.showPublishMask,hidePublishMask:t.hidePublishMask,hideCountDown:t.hideCountDown},on:{"update:countDownBgColor":function(e){t.countDownBgColor=e},"update:publishState":function(e){t.publishState=e}}}),t._v(" "),s("p",{staticClass:"l-info"},[s("span",{staticClass:"l-txt"},[t._v(t._s(t.$t("exchange.publishamount"))+"：")]),s("span",{staticClass:"l-count"},[t._v(t._s(t._f("toFixedPublishAmount")(t.publishAmount))+" ")]),s("span",{staticClass:"l-unit"},[t._v(t._s(t.currentCoin.coin))]),t._v("\n                      \n                  "),s("span",{staticClass:"l-txt"},[t._v(t._s(t.$t("exchange.publishprice"))+"：")]),s("span",{staticClass:"l-price"},[t._v(t._s(t._f("toFixedPublishPrice")(t.publishPrice))+" ")]),s("span",{staticClass:"l-unit"},[t._v(t._s(t.currentCoin.base))])]),t._v(" "),s("p",{staticClass:"l-detail"},[s("router-link",{attrs:{target:"_blank",to:"/announcement/118930"}},[t._v(t._s(t.$t("exchange.publishdetail")))])],1)],1)]):t._e(),t._v(" "),s("div",{staticClass:"handlers"},[s("span",{staticClass:"handler handler-all",class:{active:"all"==t.selectedPlate},on:{click:function(e){t.changePlate("all")}}}),t._v(" "),s("span",{staticClass:"handler handler-green",class:{active:"buy"==t.selectedPlate},on:{click:function(e){t.changePlate("buy")}}}),t._v(" "),s("span",{staticClass:"handler handler-red",class:{active:"sell"==t.selectedPlate},on:{click:function(e){t.changePlate("sell")}}})]),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"buy"!=t.selectedPlate,expression:"selectedPlate != 'buy'"}],ref:"currentRowTable",staticClass:"sell_table",attrs:{"highlight-row":"",columns:t.plate.columns,data:t.plate.askRows,"no-data-text":t.$t("common.nodata")},on:{"on-current-change":t.buyPlate}}),t._v(" "),s("div",{staticClass:"plate-nowprice"},[s("span",{staticClass:"price",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t._f("toFixed")(t.currentCoin.price,t.baseCoinScale)))]),t._v(" "),t.currentCoin.change>0?s("span",{staticClass:"buy"},[t._v("↑")]):t.currentCoin.change<0?s("span",{staticClass:"sell"},[t._v("↓")]):t._e(),t._v(" "),s("span",{staticClass:"price-cny"},[t._v(" ≈ "+t._s(t._f("toFixed")(t.currentCoin.usdRate*t.CNYRate,2))+" CNY")])]),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"sell"!=t.selectedPlate,expression:"selectedPlate != 'sell'"}],staticClass:"buy_table",class:{hidden:"all"===t.selectedPlate},attrs:{"highlight-row":"",columns:t.plate.columns,data:t.plate.bidRows,"no-data-text":t.$t("common.nodata")},on:{"on-current-change":t.sellPlate}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCountDown,expression:"!showCountDown"}],staticClass:"trade-wrap",staticStyle:{"margin-top":"10px"}},[s("Table",{attrs:{height:"264",columns:t.trade.columns,data:t.trade.rows,"no-data-text":t.$t("common.nodata")}})],1)],1)]),t._v(" "),s("Tab-pane",{attrs:{label:"委托"}},[s("div",{staticClass:"order"},[s("div",{staticClass:"order-handler"},[s("span",{class:{active:"current"===t.selectedOrder},on:{click:function(e){t.changeOrder("current")}}},[t._v(t._s(t.$t("second.currentPosition")))]),t._v(" "),s("span",{class:{active:"history"===t.selectedOrder},on:{click:function(e){t.changeOrder("history")}}},[t._v(t._s(t.$t("exchange.hisdelegation")))])]),t._v(" "),s("div",{staticClass:"table_box"},[s("div",{staticClass:"table"},["current"===t.selectedOrder?s("Table",{attrs:{height:"600",columns:t.currentOrder.columns,data:t.currentOrder.rows,"no-data-text":t.$t("common.nodata")}}):s("Table",{attrs:{height:"600",columns:t.historyOrder.columns,"no-data-text":t.$t("common.nodata"),data:t.historyOrder.rows}})],1)])])])],1)],1):t._e(),t._v(" "),t.xsShow?t._e():s("div",{staticClass:"main"},[s("div",{staticClass:"right"},[s("div",{staticClass:"coin-menu"},[s("div",{staticStyle:{padding:"8px 10px",height:"48px"}},[s("Input",{attrs:{search:"",placeholder:t.$t("common.searchplaceholder")},on:{"on-change":t.seachInputChange},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),t._v(" "),s("div",{staticClass:"sc_filter"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],class:{active:"favor"===t.basecion},on:{click:function(e){t.changeBaseCion("favor")}}},[t._v(t._s(t.$t("service.CUSTOM")))]),t._v(" "),s("span",{class:{active:"usdt"===t.basecion},on:{click:function(e){t.changeBaseCion("usdt")}}},[t._v("USDT")])]),t._v(" "),s("div",{staticClass:"trade-wrap"},[s("Table",{directives:[{name:"show",rawName:"v-show",value:"usdt"===t.basecion,expression:"basecion === 'usdt'"}],attrs:{height:"780","highlight-row":"",id:"USDT",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"btc"===t.basecion,expression:"basecion === 'btc'"}],attrs:{height:"780","highlight-row":"",id:"BTC",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"eth"===t.basecion,expression:"basecion === 'eth'"}],attrs:{height:"780","highlight-row":"",id:"ETH",columns:t.coins.columns,data:t.dataIndex},on:{"on-current-change":t.gohref}}),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"favor"===t.basecion,expression:"basecion === 'favor'"}],attrs:{height:"780","highlight-row":"","no-data-text":t.$t("common.nodata"),id:"collect",columns:t.favorColumns,data:t.dataIndex},on:{"on-current-change":t.gohref}})],1)])]),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"symbol"},[s("div",{staticClass:"item",on:{click:t.currentCoinFavorChange}},[t.currentCoinIsFavor?s("Icon",{attrs:{type:"ios-star",color:"#f0a70a",size:"24"}}):s("Icon",{attrs:{type:"ios-star-outline",color:"#f0a70a",size:"24"}})],1),t._v(" "),s("div",{staticClass:"item",staticStyle:{"margin-left":"-40px"}},[s("span",{staticClass:"coin"},[t._v(t._s(t.currentCoin.coin)+"\n              "),s("small",[t._v("/"+t._s(t.currentCoin.base))])]),t._v(" "),s("Poptip",{attrs:{trigger:"hover",title:t.coinInfo.name,content:"content",placement:"bottom-start","word-wrap":"",width:"300"}},[s("Icon",{staticStyle:{color:"#546886","margin-left":"5px"},attrs:{type:"md-information-circle"}}),t._v(" "),s("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"coin-info"},[t._v(t._s(t.coinInfo.information))]),t._v(" "),s("p",{staticStyle:{"text-align":"right","margin-top":"-10px"}},[s("a",{attrs:{href:t.coinInfo.infolink,target:"_blank"}},[t._v(t._s(t.$t("exchange.moredetail")))])])])],1)],1),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.NewPrice")))]),t._v(" "),s("span",{staticClass:"num",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t._f("toFixed")(t.currentCoin.close,t.baseCoinScale)))]),t._v(" "),s("span",{staticClass:"price-cny"},[t._v("≈ ￥"+t._s(t._f("toFixed")(t.currentCoin.usdRate*t.CNYRate,2)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.Change")))]),t._v(" "),s("span",{staticClass:"num",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t.currentCoin.rose))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.high")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t._f("toFixed")(t.currentCoin.high,t.baseCoinScale)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.low")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t._f("toFixed")(t.currentCoin.low,t.baseCoinScale)))])]),t._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v(t._s(t.$t("service.ExchangeNum")))]),t._v(" "),s("span",{staticClass:"num "},[t._v(t._s(t.currentCoin.volume)+" "+t._s(t.currentCoin.coin))])]),t._v(" "),s("div",{staticClass:"item"})]),t._v(" "),s("div",{staticClass:"imgtable"},[s("div",{staticClass:"handler"},[s("span",{class:{active:"k"===t.currentImgTable},on:{click:function(e){t.changeImgTable("k")}}},[t._v(t._s(t.$t("exchange.kline")))]),t._v(" "),s("span",{class:{active:"s"===t.currentImgTable},on:{click:function(e){t.changeImgTable("s")}}},[t._v(t._s(t.$t("exchange.depth")))])]),t._v(" "),s("div",{class:{hidden:"s"===t.currentImgTable},attrs:{id:"kline_container"}}),t._v(" "),s("DepthGraph",{ref:"depthGraph",class:{hidden:"k"===t.currentImgTable}})],1),t._v(" "),s("div",{staticClass:"trade_wrap"},[s("div",{staticClass:"trade_panel trade_panel_logout"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"mask"},[s("span",[t._v(t._s(t.$t("common.please"))+"\n                "),s("router-link",{attrs:{to:"/login"}},[s("span",{staticStyle:{color:"#f0a70a"}},[t._v(t._s(t.$t("common.login")))])]),t._v("\n                /\n                "),s("router-link",{attrs:{to:"/register"}},[s("span",{staticStyle:{color:"#00dcff"}},[t._v(t._s(t.$t("common.register")))])])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin&&t.showPublish,expression:"isLogin && showPublish"}],staticClass:"publish-mask"},[s("div",{staticStyle:{width:"100%","margin-top":"17%","text-align":"center","letter-spacing":"3px"}},[0==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate0")))]):t._e(),t._v(" "),1==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate1")))]):t._e(),t._v(" "),2==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate2")))]):t._e(),t._v(" "),3==t.publishState?s("span",[t._v(t._s(t.$t("exchange.publishstate3")))]):t._e()])]),t._v(" "),s("div",{staticClass:"trade_bd"},[s("Form",{staticStyle:{width:"100%","margin-top":"20px"}},[s("FormItem",[s("label",[t._v(t._s(t.$t("second.transactionMode")))]),t._v(" "),s("div",{staticClass:"quantity-group"},t._l(t.tradeCoins,function(e){return s("div",{key:e.id,class:{"quantity-item":!0,current:t.selectedTradeCoin==e},on:{click:function(s){t.selectTradeCoin(e)}}},[t._v("\n                      "+t._s(e)+"\n                    ")])}))]),t._v(" "),s("FormItem",[s("label",[t._v(t._s(t.$t("second.opentime")))]),t._v(" "),s("div",{staticClass:"quantity-group"},t._l(t.cycles,function(e){return s("div",{key:e.id,class:{"quantity-item":!0,current:t.selectedCycle.cycleLength==e.cycleLength},on:{click:function(s){t.selectCycle(e)}}},[t._v("\n                      "+t._s(e.cycleLength)+"s\n                    ")])}))]),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("second.profitability")))]),t._v(" "),s("Input",{attrs:{disabled:"",placeholder:""},model:{value:100*t.selectedCycle.cycleRate,callback:function(e){t.$set(t.selectedCycle,"cycleRate * 100",e)},expression:"selectedCycle.cycleRate * 100"}}),t._v(" "),s("label",{staticClass:"after"},[t._v("%")])],1),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("second.balance")))]),t._v(" "),s("Input",{attrs:{disabled:"",placeholder:""},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}}),t._v(" "),s("label",{staticClass:"after"},[t._v(t._s(t.selectedTradeCoin))])],1),t._v(" "),s("FormItem",[s("label",{staticClass:"before"},[t._v(t._s(t.$t("exchange.buynum")))]),t._v(" "),s("Input",{attrs:{placeholder:t.$t("exchange.amount")},on:{"on-keyup":t.keyEvent},model:{value:t.form.buy.marketAmount,callback:function(e){t.$set(t.form.buy,"marketAmount",e)},expression:"form.buy.marketAmount"}}),t._v(" "),s("label",{staticClass:"after"},[t._v(t._s(t.selectedTradeCoin))])],1)],1),t._v(" "),s("div",{staticStyle:{width:"100%","margin-top":"20px"}},[s("div",{staticStyle:{width:"50%",float:"left","text-align":"center"}},[t.isLogin?s("Button",{staticClass:"bg-green",staticStyle:{width:"80%"},attrs:{size:"large"},on:{click:function(e){t.addClickOrder(0)}}},[t._v(t._s(t.$t("option.buyup")))]):t._e(),t._v(" "),t.isLogin?t._e():s("Button",{staticClass:"bg-gray",staticStyle:{width:"80%"},attrs:{size:"large"}},[t._v(t._s(t.$t("option.login")))])],1),t._v(" "),s("div",{staticStyle:{width:"50%",float:"right","text-align":"center"}},[t.isLogin?s("Button",{staticClass:"bg-red",staticStyle:{width:"80%"},attrs:{size:"large"},on:{click:function(e){t.addClickOrder(1)}}},[t._v(t._s(t.$t("option.buydown")))]):t._e(),t._v(" "),t.isLogin?t._e():s("Button",{staticClass:"bg-gray",staticStyle:{width:"80%"},attrs:{size:"large"}},[t._v(t._s(t.$t("option.login")))])],1)])],1)])])]),t._v(" "),s("div",{staticClass:"left plate-wrap",staticStyle:{position:"relative"}},[t.showCountDown?s("div",{staticClass:"lightning-panel",style:{background:t.countDownBgColor}},[s("div",{staticClass:"l-content"},[s("BZCountDown",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{countDownBgColor:t.countDownBgColor,publishState:t.publishState,publishType:t.publishType,currentTime:t.currentTime,startTime:t.startTime,clearTime:t.clearTime,endTime:t.endTime,showPublishMask:t.showPublishMask,hidePublishMask:t.hidePublishMask,hideCountDown:t.hideCountDown},on:{"update:countDownBgColor":function(e){t.countDownBgColor=e},"update:publishState":function(e){t.publishState=e}}}),t._v(" "),s("p",{staticClass:"l-info"},[s("span",{staticClass:"l-txt"},[t._v(t._s(t.$t("exchange.publishamount"))+"：")]),s("span",{staticClass:"l-count"},[t._v(t._s(t._f("toFixedPublishAmount")(t.publishAmount))+" ")]),s("span",{staticClass:"l-unit"},[t._v(t._s(t.currentCoin.coin))]),t._v("     \n              "),s("span",{staticClass:"l-txt"},[t._v(t._s(t.$t("exchange.publishprice"))+"：")]),s("span",{staticClass:"l-price"},[t._v(t._s(t._f("toFixedPublishPrice")(t.publishPrice))+" ")]),s("span",{staticClass:"l-unit"},[t._v(t._s(t.currentCoin.base))])]),t._v(" "),s("p",{staticClass:"l-detail"},[s("router-link",{attrs:{target:"_blank",to:"/announcement/118930"}},[t._v(t._s(t.$t("exchange.publishdetail")))])],1)],1)]):t._e(),t._v(" "),s("div",{staticClass:"handlers"},[s("span",{staticClass:"handler handler-all",class:{active:"all"==t.selectedPlate},on:{click:function(e){t.changePlate("all")}}}),t._v(" "),s("span",{staticClass:"handler handler-green",class:{active:"buy"==t.selectedPlate},on:{click:function(e){t.changePlate("buy")}}}),t._v(" "),s("span",{staticClass:"handler handler-red",class:{active:"sell"==t.selectedPlate},on:{click:function(e){t.changePlate("sell")}}})]),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"buy"!=t.selectedPlate,expression:"selectedPlate != 'buy'"}],ref:"currentRowTable",staticClass:"sell_table",attrs:{"highlight-row":"",columns:t.plate.columns,data:t.plate.askRows,"no-data-text":t.$t("common.nodata")},on:{"on-current-change":t.buyPlate}}),t._v(" "),s("div",{staticClass:"plate-nowprice"},[s("span",{staticClass:"price",class:{buy:t.currentCoin.change>0,sell:t.currentCoin.change<0}},[t._v(t._s(t._f("toFixed")(t.currentCoin.price,t.baseCoinScale)))]),t._v(" "),t.currentCoin.change>0?s("span",{staticClass:"buy"},[t._v("↑")]):t.currentCoin.change<0?s("span",{staticClass:"sell"},[t._v("↓")]):t._e(),t._v(" "),s("span",{staticClass:"price-cny"},[t._v(" ≈ "+t._s(t._f("toFixed")(t.currentCoin.usdRate*t.CNYRate,2))+" CNY")])]),t._v(" "),s("Table",{directives:[{name:"show",rawName:"v-show",value:"sell"!=t.selectedPlate,expression:"selectedPlate != 'sell'"}],staticClass:"buy_table",class:{hidden:"all"===t.selectedPlate},attrs:{"highlight-row":"",columns:t.plate.columns,data:t.plate.bidRows,"no-data-text":t.$t("common.nodata")},on:{"on-current-change":t.sellPlate}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCountDown,expression:"!showCountDown"}],staticClass:"trade-wrap",staticStyle:{"margin-top":"10px"}},[s("Table",{attrs:{height:"264",columns:t.trade.columns,data:t.trade.rows,"no-data-text":t.$t("common.nodata")}})],1)],1)]),t._v(" "),t.xsShow?t._e():s("div",{staticClass:"order"},[s("div",{staticClass:"order-handler"},[s("span",{class:{active:"current"===t.selectedOrder},on:{click:function(e){t.changeOrder("current")}}},[t._v(t._s(t.$t("second.currentPosition")))]),t._v(" "),s("span",{class:{active:"history"===t.selectedOrder},on:{click:function(e){t.changeOrder("history")}}},[t._v(t._s(t.$t("exchange.hisdelegation")))])]),t._v(" "),s("div",{staticClass:"table"},["current"===t.selectedOrder?s("Table",{attrs:{height:"240",columns:t.currentOrder.columns,data:t.currentOrder.rows,"no-data-text":t.$t("common.nodata")}}):s("Table",{attrs:{height:"240",columns:t.historyOrder.columns,"no-data-text":t.$t("common.nodata"),data:t.historyOrder.rows}})],1)])])},staticRenderFns:[]};var _=s("VU/8")(v,b,!1,function(t){s("vJgP"),s("0831")},"data-v-a89266c4",null);e.default=_.exports},onSk:function(t,e){},vJgP:function(t,e){}});